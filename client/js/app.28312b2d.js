(function(t){function e(e){for(var s,n,r=e[0],c=e[1],u=e[2],d=0,p=[];d<r.length;d++)n=r[d],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&p.push(o[n][0]),o[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);l&&l(e);while(p.length)p.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,r=1;r<a.length;r++){var c=a[r];0!==o[c]&&(s=!1)}s&&(i.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},o={app:0},i=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var l=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"07e7":function(t,e,a){},"0aa6":function(t,e,a){},"185b":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("navbar"),a("router-view")],1)},i=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"Home"}}},[t._v("AppName")]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarText"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item",class:{active:"Home"==t.$route.name}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"Home"}}},[t._v("Home")])],1),t.$auth.isAuthenticated?a("li",{staticClass:"nav-item",class:{active:"Profile"==t.$route.name}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"Profile"}}},[t._v("Profile")])],1):t._e()]),a("span",{staticClass:"navbar-text"},[t.$auth.isAuthenticated?a("button",{staticClass:"btn btn-danger",on:{click:t.logout}},[t._v("logout")]):a("button",{staticClass:"btn btn-success",on:{click:t.login}},[t._v(" Login ")])])])],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],c=a("bc3a"),u=a.n(c),l=a("335d"),d={name:"Navbar",methods:{async login(){await this.$auth.loginWithPopup(),this.$auth.isAuthenticated&&(this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile"),this.$store.dispatch("getBugs"))},async logout(){this.$store.dispatch("resetBearer"),await this.$auth.logout({returnTo:window.location.origin})}}},p=d,g=a("2877"),v=Object(g["a"])(p,n,r,!1,null,null,null),h=v.exports,m={name:"App",async beforeCreate(){await Object(l["c"])(),this.$auth.isAuthenticated&&(this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile"),this.$store.dispatch("getBugs"))},components:{Navbar:h}},b=m,f=(a("5c0b"),Object(g["a"])(b,o,i,!1,null,null,null)),_=f.exports,y=a("8c4f"),B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home container-fluid"},[a("div",{staticClass:"row justify-content-center my-3"},[a("form",{staticClass:"card col-3",on:{submit:function(e){return e.preventDefault(),t.addBug(e)}}},[a("div",{staticClass:"card-body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newBug.title,expression:"newBug.title"}],attrs:{type:"text",placeholder:"title"},domProps:{value:t.newBug.title},on:{input:function(e){e.target.composing||t.$set(t.newBug,"title",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newBug.description,expression:"newBug.description"}],attrs:{type:"textarea",placeholder:"text here"},domProps:{value:t.newBug.description},on:{input:function(e){e.target.composing||t.$set(t.newBug,"description",e.target.value)}}}),a("button",{attrs:{type:"submit"}},[t._v("submit")])])])]),t._m(0),t._m(1),a("div",t._l(t.bugs,(function(t){return a("bug",{key:t._id,attrs:{bugData:t}})})),1)])},w=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center"},[a("h1",[t._v("Bugs")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row text-align-center"},[a("div",{staticClass:"col-3"},[a("h2",[t._v("Title")])]),a("div",{staticClass:"col-3"},[a("h2",[t._v("Reported By")])]),a("div",{staticClass:"col-3"},[a("h2",[t._v("status")])]),a("div",{staticClass:"col-3"},[a("h2",[t._v("Last Modified")])])])}],$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center"},[t.bugData._id?a("div",{staticClass:"col-3"},[a("router-link",{attrs:{to:{name:"bug",params:{bugId:t.bugData._id}}}},[a("p",[t._v(t._s(t.bugData.title))])])],1):t._e(),a("div",{staticClass:"col-3"},[a("p",[t._v(t._s(t.bugData.creator.name))])]),a("div",[a("p",{staticClass:"col-3"},[t._v("completed: "+t._s(t.bugData.closed))])]),a("div",[a("p",{staticClass:"col-3"},[t._v(t._s(t.bugData.updatedAt))])])])},C=[],x={name:"Bug",props:{bugData:{type:Object,required:!0}},methods:{}},D=x,N=(a("8ed6"),Object(g["a"])(D,$,C,!1,null,"31db926c",null)),j=N.exports,P={name:"home",data(){return{newBug:{}}},mounted(){},computed:{bugs(){return this.$store.state.bugs}},components:{Bug:j},methods:{addBug(){this.$store.dispatch("addBug",this.newBug),this.newBug={}}}},O=P,I=(a("acf8"),Object(g["a"])(O,B,w,!1,null,"4830e23c",null)),A=I.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about text-center"},[a("h1",[t._v("Welcome "+t._s(t.profile.name))]),a("img",{staticClass:"rounded",attrs:{src:t.profile.picture,alt:""}}),a("p",[t._v(t._s(t.profile.email))])])},E=[],T={name:"Profile",computed:{profile(){return this.$store.state.profile}}},S=T,z=(a("eca6"),Object(g["a"])(S,k,E,!1,null,"537449b8",null)),H=z.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.bug._id?a("div",{staticClass:"fix container-fluid"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-6"},[a("h1",[t._v(t._s(t.bug.title))])])]),a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-6"},[t._v(" "+t._s(t.bug.creatorEmail)+" ")]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"row"},[a("button",{attrs:{disabled:1==t.bug.closed},on:{click:t.closeBug}},[t._v(" complete ")]),a("p",[t._v(t._s(t.bug.closed))])])])]),a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-12 card"},[t._v(" "+t._s(t.bug.description)+" ")])]),a("div",[a("div",{staticClass:"row my-3"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.editBug(e)}}},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editBugData.title,expression:"editBugData.title"}],attrs:{type:"text",placeholder:"New Bug Title..."},domProps:{value:t.editBugData.title},on:{input:function(e){e.target.composing||t.$set(t.editBugData,"title",e.target.value)}}}),a("button",{attrs:{type:"submit",disabled:1==t.bug.closed}},[t._v("Edit")])])]),a("form",{on:{submit:function(e){return e.preventDefault(),t.editBug(e)}}})]),t._m(0),a("div",t._l(t.notes,(function(t){return a("NoteComp",{key:t._id,attrs:{noteData:t}})})),1)]),a("div",{staticClass:"row"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addNote(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.noteData.content,expression:"noteData.content"}],attrs:{type:"text",placeholder:"New Note"},domProps:{value:t.noteData.content},on:{input:function(e){e.target.composing||t.$set(t.noteData,"content",e.target.value)}}}),a("button",{attrs:{type:"submit"}},[t._v("Add")])])])]):t._e()},R=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-3"},[a("h3",[t._v("Notes")])])}],q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row card my-3"},[a("div",[a("p",[t._v(t._s(t.noteData.content))]),a("p",[t._v(t._s(t.noteData.creator.name))])]),a("button",{on:{click:t.deleteNote}},[t._v("del")])])])},L=[],U={name:"NoteComp",props:{noteData:{type:Object,required:!0}},data(){return{}},methods:{deleteNote(){this.$store.dispatch("deleteNote",this.noteData)}}},J=U,V=Object(g["a"])(J,q,L,!1,null,null,null),W=V.exports,G={name:"bug",data(){return{noteData:{},editBugData:{}}},mounted(){this.$store.dispatch("setActive",this.$route.params.bugId),this.$store.dispatch("getNotesByBugId",this.bugId)},computed:{bug(){for(const t in this.$store.state.activeBug)console.log(`${t}: ${this.$store.state.activeBug[t]}`);return this.$store.state.activeBug},notes(){return this.$store.state.notes}},methods:{addNote(){this.$store.dispatch("addNote",{bugId:this.$route.params.bugId,content:this.noteData.content}),this.noteData={}},editBug(){this.$store.dispatch("editBug",{id:this.bugId,title:this.editBugData.title})},closeBug(){this.$store.dispatch("closeBug",{id:this.bugId})}},props:["bugId"],components:{NoteComp:W}},K=G,Q=(a("c384"),Object(g["a"])(K,M,R,!1,null,"e330962e",null)),Y=Q.exports;s["a"].use(y["a"]);const Z=[{path:"/",name:"Home",component:A},{path:"/profile",name:"Profile",component:H,beforeEnter:l["b"]},{path:"/bugs/:bugId",name:"bug",component:Y,props:!0,beforeEnter:l["b"]}],F=new y["a"]({routes:Z});var X=F,tt=a("2f62");let et=location.host.includes("localhost")?"http://localhost:3000/":"/";const at=u.a.create({baseURL:et+"api",timeout:3e3,withCredentials:!0});s["a"].use(tt["a"]);var st=new tt["a"].Store({state:{profile:{},bugs:[],activeBug:{},notes:[]},mutations:{setProfile(t,e){t.profile=e},setBugs(t,e){t.bugs=e},setNotes(t,e){t.notes=e},setActiveBug(t,e){t.activeBug=e},addBug(t,e){t.bugs.push(e)}},actions:{setBearer({},t){at.defaults.headers.authorization=t},resetBearer(){at.defaults.headers.authorization=""},async getProfile({commit:t}){try{let e=await at.get("profile");t("setProfile",e.data)}catch(e){console.error(e)}},async getBugs({commit:t,dispatch:e}){console.log("I'm getting bugs.");try{let e=await at.get("bugs");t("setBugs",e.data)}catch(a){console.error(a)}},async addBug({commit:t,dispatch:e},a){try{let e=await at.post("bugs",a);e.data.creator=this.state.profile,t("addBug",e.data),t("setActiveBug",e.data),X.push({name:"bug",params:{bugId:e.data._id}})}catch(s){console.error(s)}},async setActive({commit:t,dispatch:e},a){try{let e=await at.get("bugs/"+a);t("setActiveBug",e.data)}catch(s){console.error(s)}},async getNotesByBugId({commit:t,dispatch:e},a){try{let e=await at.get("bugs/"+a+"/notes");t("setNotes",e.data)}catch(s){console.error(s)}},async deleteNote({commit:t,dispatch:e},a){try{await window.confirm("Are you sure?")&&(await at.delete("notes/"+a.id),e("getNotesByBugId",a.bugId))}catch(s){console.error(s)}},async addNote({commit:t,dispatch:e},a){try{await at.post("notes",a),e("getNotesByBugId",a.bugId)}catch(s){console.error(s)}},async editBug({commit:t,dispatch:e},a){try{await at.put("bugs/"+a.id,{title:a.title}),e("setActive",a.id)}catch(s){console.error(s)}},async closeBug({commit:t,dispatch:e},a){try{await at.delete("bugs/"+a.id),e("setActive",a.id)}catch(s){console.error(s)}}}});const ot="dev-gj-6zpzw.us.auth0.com",it="https://buglogapi/",nt="3Bb3hZYQt41fjAql2RrKPVoEGuPVi79z";s["a"].use(l["a"],{domain:ot,clientId:nt,audience:it,onRedirectCallback:t=>{X.push(t&&t.targetUrl?t.targetUrl:window.location.pathname)}}),new s["a"]({router:X,store:st,render:function(t){return t(_)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var s=a("9c0c"),o=a.n(s);o.a},"86ff":function(t,e,a){},"8ed6":function(t,e,a){"use strict";var s=a("86ff"),o=a.n(s);o.a},"9c0c":function(t,e,a){},acf8:function(t,e,a){"use strict";var s=a("0aa6"),o=a.n(s);o.a},c384:function(t,e,a){"use strict";var s=a("07e7"),o=a.n(s);o.a},eca6:function(t,e,a){"use strict";var s=a("185b"),o=a.n(s);o.a}});